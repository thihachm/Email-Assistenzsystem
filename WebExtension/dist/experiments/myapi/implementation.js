"use strict";!function(e){const{ExtensionCommon:t}=ChromeUtils.import("resource://gre/modules/ExtensionCommon.jsm"),{Services:s}=ChromeUtils.import("resource://gre/modules/Services.jsm"),{XPCOMUtils:r}=ChromeUtils.import("resource://gre/modules/XPCOMUtils.jsm");r.defineLazyGlobalGetters(e,["IOUtils"]);class i extends t.ExtensionAPI{getAPI(e){return{myapi:{writeJson:async function(t,s){try{if("settings"!==s||"db"!==s)return!1;let r=e.extension.rootURI.filePath+"config/"+s+".json";return r=r.substring(1),r=r.replaceAll("/","\\"),await IOUtils.writeJSON(r,t),!0}catch(e){return e}}}}}onShutdown(e){e||s.obs.notifyObservers(null,"startupcache-invalidate",null)}}e.myapi=i}(this);